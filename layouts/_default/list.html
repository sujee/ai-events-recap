<!DOCTYPE html>
<html {{- if (eq .Site.Params.mode "dark" ) -}}class="dark" {{ end }}>
{{ partial "header.html" . }}

<body>
	<div class="container wrapper list">
		{{ partial "head.html" . }}

		{{ if isset .Data "Term" }}
			<div style="margin-bottom: 20px;">
				<h2 style="margin-bottom: 8px; display: inline-flex; align-items: center; gap: 10px;">
					<span>{{ .Data.Term }}</span>
					<span style="
						background: #4f46e5; 
						color: white; 
						padding: 4px 10px; 
						border-radius: 15px; 
						font-size: 0.8rem; 
						font-weight: 600;
					">({{ len .Data.Pages }} {{ if eq (len .Data.Pages) 1 }}post{{ else }}posts{{ end }})</span>
				</h2>
				<p style="color: #666; margin: 0; font-size: 0.9rem;">Posts tagged with "{{ .Data.Term }}"</p>
			</div>
		{{ else }}
		<h2 class="page-title">{{ .Name }}</h2>
		{{ end }}

		<div class="posts" style="display: flex; flex-direction: column; gap: 12px; margin-top: 20px;">
			{{- range .Data.Pages -}}
			{{- if (in (.Site.Params.excludedTypes | default (slice "page")) .Type) -}}
			{{- else -}}
			<div class="post" style="
				background: #ffffff;
				border: 1px solid #e2e8f0;
				border-radius: 8px;
				padding: 16px 16px 12px 16px;
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
				transition: all 0.3s ease;
			" 
			onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 16px rgba(0, 0, 0, 0.15)';" 
			onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
				<div class="post-header">
					<div class="meta" style="margin-bottom: 18px;">
						<div class="date" style="font-size: 0.85em; color: #444; font-weight: normal;">
							<span class="day" style="font-size: 1em; color: #333;">{{ dateFormat "02" .Date }}</span>
							<span class="rest" style="font-size: 0.9em;">{{ if $.Site.Data.month }}{{ index $.Site.Data.month (printf "%d" .Date.Month) }} {{ .Date.Year }}{{ else }}{{ dateFormat "Jan 2006" .Date }}{{ end }}</span>
						</div>
					</div>
					<div class="matter">
						<h4 class="title small" style="margin: 0 0 8px 0; font-size: 1.05em; line-height: 1.3;">
							<a href="{{ .RelPermalink }}" style="
								color: #1e293b;
								text-decoration: none;
								font-weight: 600;
								transition: color 0.2s ease;
							" 
							onmouseover="this.style.color='#3b82f6';" 
							onmouseout="this.style.color='#1e293b';">{{.Title}}{{ if .Draft }}<sup class="draft-label">DRAFT</sup>{{ end }}</a>
						</h4>
						
						<!-- Tags display -->
						{{ if .Params.tags }}
						<div style="margin: 12px 0 8px 0; padding-top: 8px; border-top: 1px solid #f1f5f9; font-size: 0.85em; line-height: 1.5; display: flex; align-items: center; flex-wrap: wrap; gap: 6px;">
							{{ range .Params.tags }}
							<a href="{{ $.Site.BaseURL }}tags/{{ . | urlize }}/" style="background: #e1f0ff; color: #1a5490; padding: 3px 6px; border-radius: 4px; text-decoration: none; font-weight: 500; border: 1px solid #cce7ff;">#{{ . }}</a>
							{{ end }}
						</div>
						{{ end }}
						
						<div class="description" style="
							color: #64748b;
							font-size: 0.85em;
							line-height: 1.5;
							margin-top: 8px;
							padding-top: 8px;
							border-top: 1px solid #f1f5f9;
						">
							{{ if isset .Params "summary" }}
								{{ .Params.summary }}
							{{ else if isset .Params "description" }}
								{{ .Description }}
							{{ else if gt (len .RawContent) 120 }}
								{{ slicestr .RawContent 0 120 }}...
							{{ else }}
								{{ .RawContent }}
							{{ end }}
						</div>
					</div>
				</div>
			</div>
			{{- end -}}
			{{- end -}}
		</div>
	</div>

	{{ partial "footer.html" . }}
</body>

</html>